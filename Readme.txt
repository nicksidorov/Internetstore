Интернет-магазином «В один клик» была поставлена цель: разработать решение, которое позволит персонализировать 
предложения постоянным клиентам, чтобы увеличить их покупательскую активность. 
Магазином были предоставлены базы данных по клиентам (1300 клиетов). 
Было решено построить и обучить несколько моделей ML и выбрать наиболее подходящую для прогнозирования вероятности снижения активности клиента.

В рамках работы были проделаны следующие шаги:

Предобработка данных:

исправлены неявные дубликаты в таблице market_file;

пропусков нет, полных дубликатов нет;

изменены названия некоторых столбцов - чтобы не было пробелов.

Исследовательский анализ показал, что категориальные данные носят не сблансированный характер и также:

выброс в данных "Выручка" исправлен (1 выброс заменен на среднее);

удалены клиенты с активностью менее 3-х месяцев (3 клиента);

введен категориальный признак "Акционные_покупки_уровень", поскольку распределение явно делится на два кластера;

Данные были поделены на тренировочную и тестовую выборки с учетом стратификации. 
Были рассмотрены 4 модели для классификации: KNeighborsClassifier(), DecisionTreeClassifier(), LogisticRegression() и SVC(). 
Был проведен подбор гиперпараметров и найдена лучшая модель по метрике f1_score с учетом крос-валидации. Лучшая модель: опорные вектора с rbf ядром (SVC(C=4, probability=True, random_state=42)).

На тренеровочной выборке лучшая модель показала: f1_score = 0.87.

С помощью метода shap были оценены важные признаки: 5 наиболее важных признаков:

- Страниц за визит;
- Текущ_мес_мин;
- Предыдущий_мес_мин;
- Неоплаченные продукты;
- Средний просмотр категорий за визит.
Используя модель для прогнозирования вероятности снижения активности и данные о прибыли был изучен сегмент покупателей, которые имеют прибыль выше среднего и высокую вероятность снижения покупательской активности.

Исходя из узучения данного сегмента, можно рекомендовать удерживать клиентов на сайте. Чем больше клиент проводит времени на сайте, тем больше он покупает.

Так же видно, что для данного сегмента среднее значение Маркет_актив6мес (среднемесячное значение маркетинговых коммуникаций компании, которое приходилось на покупателя за последние 6 месяцев) меньше, чем для конкурирующего сегомента (3.5 против 4.6). 
Поэтому рекомендуется увеличить маркетинговые коммуникации с этими клиентами.
